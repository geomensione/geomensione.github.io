n_tile=6,l_edge=a.width>a.height?a.height/n_tile:a.width/n_tile,x=y=0,board=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],level=1,time=600,gx=gy=0,score=0,a.onmouseup=function(e){ex=e.offsetX,ey=e.offsetY,game(ex,ey)},a.ontouchend=function(e){ex=e.touches[0].clientX,ey=e.touches[0].clientY,game(ex,ey)};var game=function(e,l){e<=l_edge*n_tile&&l<=l_edge*n_tile&&(gx=Math.floor(e/l_edge),gy=Math.floor(l/l_edge),drawTile("blue",gx*l_edge,gy*l_edge),board[gy*n_tile+gx]&&(score--,board[gy*n_tile+gx]=0),score||(clearInterval(loop),loopFn()))},drawTile=function(e,l,t){c.beginPath(),c.fillStyle=e,c.fillRect(l,t,l_edge,l_edge),c.stroke()},drawBoard=function(){c.beginPath(),c.fillStyle="blue",c.fillRect(0,0,l_edge*n_tile,l_edge*n_tile),c.stroke()},loopFn=function(){if(c.font="100px Arial",score==n_tile*n_tile-1)clearInterval(loop),c.fillStyle="black",c.fillText("LOSE!!!",100,100);else if(score)for(let e=0;e<level;e++)ux=Math.floor(Math.random()*(n_tile-0))+0,uy=Math.floor(Math.random()*(n_tile-0))+0,updateGameArray(ux,uy);else clearInterval(loop),c.fillStyle="white",c.fillText("WIN!!!",100,100)},updateGameArray=function(e,l){board[l*n_tile+e]?(ux=Math.floor(Math.random()*(n_tile-0))+0,uy=Math.floor(Math.random()*(n_tile-0))+0,updateGameArray(ux,uy)):(board[l*n_tile+e]=1,score++,drawTile("orange",e*l_edge,l*l_edge))},ran=function(){return Math.floor(Math.random()*(n_tile-0))},getCoords=function(){return{x:ran(),y:ran()}};drawBoard();var co=getCoords();updateGameArray(co.x,co.y);var loop=setInterval(e=>{loopFn()},time);
