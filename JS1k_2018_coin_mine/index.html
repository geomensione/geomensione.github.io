<html>
<head></head>
<body>
<canvas id=c>
</canvas>
<script>

	window.a = document.getElementsByTagName('canvas')[0];
	window.b = document.getElementsByTagName('body')[0];
	window.c = window.a.getContext('2d');
	window.d = document;
	a.width = window.innerWidth;
	a.height = window.innerHeight;
	/*
	JS1K start
	*/
	//Init
	g = {};
	g.fr = 100;
	g.w = window;
	g.c = {s:20, x:0, y:0};
	g.h = {s:20, x:0, y:g.w.innerHeight - 50};
	
	a.onmousemove = (e) => {
		g.c.x = e.clientX;
		g.c.y = e.clientY;
	}; 
	a.onmouseup = (e) => {
		g.c.u = 1;
	}
	function gr(){
		c.beginPath();
		c.fillStyle = '#000000';
		c.fillRect(0,0,a.width,a.height);
		c.beginPath();
		//se x === 0 incremento, altrimenti se non ho superato la larghezza della pagina incremento, altrimenti aumento
		(!g.h.x)?
			g.h.x+=10
			:
			(g.h.x>g.w.innerWidth)?
				g.h.x=0
				:
				g.h.x+=10;
		c.strokeStyle = 'green';
		c.strokeRect(g.h.x,g.h.y,40,10);
		
	}
	function dr() {
		(g.c.u)?
		(g.c.y>g.w.innerHeight)?
			g.c.y=g.c.u=0
		:
		g.c.y+=20
		:
		g;
		c.arc(g.c.x, g.c.y, g.c.s, 0, 2 * Math.PI, false);
		
		c.fillStyle = 'white';
		c.fill()
		
	}
	
	function l(){
		g.l = setInterval(function() {
			gr();
			dr();
		}, g.fr);
	}
	 
	l();

</script>
</body>
</html>
