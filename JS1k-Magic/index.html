<html>
<head></head>
<body>
<canvas></canvas>
<script>
  window.a = document.getElementsByTagName('canvas')[0];
  window.b = document.getElementsByTagName('body')[0];
  window.c = window.a.getContext('2d');
  window.d = document;
  
  /*
  JS1K start
  */
  //demo object
  var de = {};
  //register events
  d.ae = a.addEventListener;
  d.re = a.removeEventListener;
  c.mt = c.moveTo;
  c.lt = c.lineTo;
  c.s = c.stroke;
  de.mds = 'mousedown';
  de.mms = 'mousemove';
  de.mus = 'mouseup';
  de.md = d.ae(de.mds,function(e)
  {
    c.mt(e.clientX,e.clientY);
    de.mm = d.ae(de.mms,function(e)
    {
      c.lt(e.clientX,e.clientY);
      c.s();
    },false);
    d.ae(de.mus,function(e)
    {
      
      d.re(de.mms,de.mm);
      d.re(de.mus,de.mu);
    },false);
  },false);
  
</script>
</body>
</html>
