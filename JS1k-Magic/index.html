<html>
<head></head>
<body>
<canvas></canvas>
<script>
  window.a = document.getElementsByTagName('canvas')[0];
  window.b = document.getElementsByTagName('body')[0];
  window.c = window.a.getContext('2d');
  window.d = document;
  
  /*
  JS1K start
  */
  //demo object
  var de = {};
  //register events
  de.ae = a.addEventListener;
  de.re = a.removeEventListener;
  de.mt = c.moveTo;
  de.lt = c.lineTo;
  de.s = c.stroke;
  de.mds = 'mousedown';
  de.mms = 'mousemove';
  de.mus = 'mouseup';
  de.md = de.ae(de.mds,function(e)
  {
    de.mt(e.clientX,e.clientY);
    de.mm = de.ae(de.mms,function(e)
    {
      de.lt(e.clientX,e.clientY);
    }.bind(this),false);
    de.ae(de.mus,function(e)
    {
      de.s();
      de.re(de.mms,de.mm);
      de.re(de.mus,de.mu);
    }.bind(this),false);
  }.bind(this),false);
  
</script>
</body>
</html>
