<!DOCTYPE html>
<html>
<head>
<title>Low Res Party!</title>
<style>
body{
	margin: 0;
	overflow: hidden;
}
canvas{
	width: 100%;
	height: 100%;
}
</style>
</head>
<body onload="splash()">
    <canvas id="gameScreen">
      What, no canvas support? D:
    </canvas>
 <script>
	"use strict";

	window.a = document.getElementsByTagName('canvas')[0];
	window.b = document.getElementsByTagName('body')[0];
	window.c = window.a.getContext('2d');
	window.d = document;
	a.width = window.innerWidth;
	a.height = window.innerHeight;

	/*
	JS1K start
	*/
	var newSprites = 
	{
		 'shark_hunter_R':[
		  '0000WWWW000000V0',
		  '000WWWWWW00000V0',
		  '00WWWWWWWW0000V0',
		  '0WWWWWWWWWW000V0',
		  '0WWWWBWWBWW00V00',
		  '0WWWWWWWWWW00V00',
		  '0WWWWWWWWWW00V00',
		  '00WWWBBWWW000V00',
		  '000WWWWWW0000V00',
		  '0WWWWWWWWWWWW000',
		  '0W000WWWW0000000',
		  '0W000WWWWW000000',
		  '00000WWWWW000000',
		  '00W00WWWWWWW0000',
		  '0WWWWW00000W0W00',
		  '0W0000000000WW00'
		 ],
		 'shark_hunter_L':[
		 '0V000000WWWW0000',
		'0V00000WWWWWW000',
		'0V0000WWWWWWWW00',
		'0V000WWWWWWWWWW0',
		'00V00WWBWWBWWWW0',
		'00V00WWWWWWWWWW0',
		'00V00WWWWWWWWWW0',
		'00V000WWWBBWWW00',
		'00V0000WWWWWW000',
		'000WWWWWWWWWWWW0',
		'0000000WWWW000W0',
		'000000WWWWW000W0',
		'000000WWWWW00000',
		'0000WWWWWWW00W00',
		'00W0W00000WWWWW0',
		'00WW0000000000W0'
		],
		 'shark_R':[
		 '0000000000000000',
		'00000000W0000000',
		'W0000000WW000000',
		'WW000000WW000000',
		'0WW0000WWWW00000',
		'0WWWWWWWWWWWWWWW',
		'00WWWWWWWWWWWWWW',
		'0WW0WWWWBWWWWWP0',
		'0WW00GWWWWWWW0P0',
		'WW00GGWWWWW0P000',
		'000GGGGWWW000000',
		'00GGG00WWWP00000',
		'0000000WWW000000',
		'00000000WWP00000',
		'000000000P000000',
		'0000000000000000'
		 ],
		 'shark_L':[
		 '0000000000000000',
		  '0000000W00000000',
		  '000000WW0000000W',
		  '000000WW000000WW',
		  '00000WWWW0000WW0',
		  'WWWWWWWWWWWWWWW0',
		  'WWWWWWWWWWWWWW00',
		  '0PWWWWWBWWWW0WW0',
		  '0P0WWWWWWWG00WW0',
		  '000P0WWWWWGG00WW',
		  '000000WWWGGGG000',
		  '00000PWWW00GGG00',
		  '000000WWW0000000',
		  '00000PWW00000000',
		  '000000P000000000',
		  '0000000000000000'
		 ]

	}

	function gr(){
		var w = g.w;
		var h = g.h;
		var ox, oy = 0;
		if(h<w){
			ox = Math.round(h/g.r);
			g.ry = Math.round(h/ox);
			g.rx = Math.round(w/ox);
		}else{
			ox = Math.round(w/g.r);
			g.rx = Math.round(w/ox);
			g.ry = Math.round(h/ox);
		}
		g.o = ox;
		g.fb = [];
		var rx = g.rx;
		var ry = g.ry;
		for(var i = 0;i<rx;i++){
			g.fb[i] = [];
			for(var d = 0;d<ry;d++){
				//qui setta il fb
				g.fb[i][d] = ['00', '00', '00'];
			}
		}
		
	}
	 
	function d(){
		var rx = g.rx;
		var ry = g.ry;
		var o = g.o;
		var cx = 0, cy = 0;
		for(var i = 0;i<rx;i++){
			for(var d = 0;d<ry;d++){
				c.fillStyle = "#"+g.fb[i][d][0]+g.fb[i][d][1]+g.fb[i][d][2];
				c.fillRect(cx,cy,o,o);
				cy += o;
			}
			cx += o;
			cy = 0;
		}
	}

	
	function l(){
		g.l = setInterval(function() {
			gr();
			d();
		}, lr['framerate']);
	}
	 
	//Init
	g = {};
	g.w = d.documentElement.clientWidth;
	g.h = d.documentElement.clientHeight;
	g.r = 48;
	g.fr = 30;
	g.fi = [];
	g.s = 16;
	g.j = g.s + 1;
	g.d = false;
	g.d = 'R';
	gr();
	loop();

 </script>
</body></html>
